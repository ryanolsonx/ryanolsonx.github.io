<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The Fellowship of the Ring</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"
    />
    <style>
      /*! tailwindcss v4.0.0-alpha.7 | MIT License | https://tailwindcss.com */
      @layer theme {
        :root {
          --default-transition-duration: 0.15s;
          --default-transition-timing-function: var(
            --transition-timing-function-in-out
          );
          --default-font-family: var(--font-family-sans);
          --default-font-feature-settings: var(
            --font-family-sans--font-feature-settings
          );
          --default-font-variation-settings: var(
            --font-family-sans--font-variation-settings
          );
          --default-mono-font-family: var(--font-family-mono);
          --default-mono-font-feature-settings: var(
            --font-family-mono--font-feature-settings
          );
          --default-mono-font-variation-settings: var(
            --font-family-mono--font-variation-settings
          );
          --breakpoint-sm: 640px;
          --breakpoint-md: 768px;
          --breakpoint-lg: 1024px;
          --breakpoint-xl: 1280px;
          --breakpoint-2xl: 1536px;
          --color-black: #000;
          --color-white: #fff;
          --color-slate-50: #f8fafc;
          --color-slate-100: #f1f5f9;
          --color-slate-200: #e2e8f0;
          --color-slate-300: #cbd5e1;
          --color-slate-400: #94a3b8;
          --color-slate-500: #64748b;
          --color-slate-600: #475569;
          --color-slate-700: #334155;
          --color-slate-800: #1e293b;
          --color-slate-900: #0f172a;
          --color-slate-950: #020617;
          --color-gray-50: #f9fafb;
          --color-gray-100: #f3f4f6;
          --color-gray-200: #e5e7eb;
          --color-gray-300: #d1d5db;
          --color-gray-400: #9ca3af;
          --color-gray-500: #6b7280;
          --color-gray-600: #4b5563;
          --color-gray-700: #374151;
          --color-gray-800: #1f2937;
          --color-gray-900: #111827;
          --color-gray-950: #030712;
          --color-zinc-50: #fafafa;
          --color-zinc-100: #f4f4f5;
          --color-zinc-200: #e4e4e7;
          --color-zinc-300: #d4d4d8;
          --color-zinc-400: #a1a1aa;
          --color-zinc-500: #71717a;
          --color-zinc-600: #52525b;
          --color-zinc-700: #3f3f46;
          --color-zinc-800: #27272a;
          --color-zinc-900: #18181b;
          --color-zinc-950: #09090b;
          --color-neutral-50: #fafafa;
          --color-neutral-100: #f5f5f5;
          --color-neutral-200: #e5e5e5;
          --color-neutral-300: #d4d4d4;
          --color-neutral-400: #a3a3a3;
          --color-neutral-500: #737373;
          --color-neutral-600: #525252;
          --color-neutral-700: #404040;
          --color-neutral-800: #262626;
          --color-neutral-900: #171717;
          --color-neutral-950: #0a0a0a;
          --color-stone-50: #fafaf9;
          --color-stone-100: #f5f5f4;
          --color-stone-200: #e7e5e4;
          --color-stone-300: #d6d3d1;
          --color-stone-400: #a8a29e;
          --color-stone-500: #78716c;
          --color-stone-600: #57534e;
          --color-stone-700: #44403c;
          --color-stone-800: #292524;
          --color-stone-900: #1c1917;
          --color-stone-950: #0c0a09;
          --color-red-50: #fef2f2;
          --color-red-100: #fee2e2;
          --color-red-200: #fecaca;
          --color-red-300: #fca5a5;
          --color-red-400: #f87171;
          --color-red-500: #ef4444;
          --color-red-600: #dc2626;
          --color-red-700: #b91c1c;
          --color-red-800: #991b1b;
          --color-red-900: #7f1d1d;
          --color-red-950: #450a0a;
          --color-orange-50: #fff7ed;
          --color-orange-100: #ffedd5;
          --color-orange-200: #fed7aa;
          --color-orange-300: #fdba74;
          --color-orange-400: #fb923c;
          --color-orange-500: #f97316;
          --color-orange-600: #ea580c;
          --color-orange-700: #c2410c;
          --color-orange-800: #9a3412;
          --color-orange-900: #7c2d12;
          --color-orange-950: #431407;
          --color-amber-50: #fffbeb;
          --color-amber-100: #fef3c7;
          --color-amber-200: #fde68a;
          --color-amber-300: #fcd34d;
          --color-amber-400: #fbbf24;
          --color-amber-500: #f59e0b;
          --color-amber-600: #d97706;
          --color-amber-700: #b45309;
          --color-amber-800: #92400e;
          --color-amber-900: #78350f;
          --color-amber-950: #451a03;
          --color-yellow-50: #fefce8;
          --color-yellow-100: #fef9c3;
          --color-yellow-200: #fef08a;
          --color-yellow-300: #fde047;
          --color-yellow-400: #facc15;
          --color-yellow-500: #eab308;
          --color-yellow-600: #ca8a04;
          --color-yellow-700: #a16207;
          --color-yellow-800: #854d0e;
          --color-yellow-900: #713f12;
          --color-yellow-950: #422006;
          --color-lime-50: #f7fee7;
          --color-lime-100: #ecfccb;
          --color-lime-200: #d9f99d;
          --color-lime-300: #bef264;
          --color-lime-400: #a3e635;
          --color-lime-500: #84cc16;
          --color-lime-600: #65a30d;
          --color-lime-700: #4d7c0f;
          --color-lime-800: #3f6212;
          --color-lime-900: #365314;
          --color-lime-950: #1a2e05;
          --color-green-50: #f0fdf4;
          --color-green-100: #dcfce7;
          --color-green-200: #bbf7d0;
          --color-green-300: #86efac;
          --color-green-400: #4ade80;
          --color-green-500: #22c55e;
          --color-green-600: #16a34a;
          --color-green-700: #15803d;
          --color-green-800: #166534;
          --color-green-900: #14532d;
          --color-green-950: #052e16;
          --color-emerald-50: #ecfdf5;
          --color-emerald-100: #d1fae5;
          --color-emerald-200: #a7f3d0;
          --color-emerald-300: #6ee7b7;
          --color-emerald-400: #34d399;
          --color-emerald-500: #10b981;
          --color-emerald-600: #059669;
          --color-emerald-700: #047857;
          --color-emerald-800: #065f46;
          --color-emerald-900: #064e3b;
          --color-emerald-950: #022c22;
          --color-teal-50: #f0fdfa;
          --color-teal-100: #ccfbf1;
          --color-teal-200: #99f6e4;
          --color-teal-300: #5eead4;
          --color-teal-400: #2dd4bf;
          --color-teal-500: #14b8a6;
          --color-teal-600: #0d9488;
          --color-teal-700: #0f766e;
          --color-teal-800: #115e59;
          --color-teal-900: #134e4a;
          --color-teal-950: #042f2e;
          --color-cyan-50: #ecfeff;
          --color-cyan-100: #cffafe;
          --color-cyan-200: #a5f3fc;
          --color-cyan-300: #67e8f9;
          --color-cyan-400: #22d3ee;
          --color-cyan-500: #06b6d4;
          --color-cyan-600: #0891b2;
          --color-cyan-700: #0e7490;
          --color-cyan-800: #155e75;
          --color-cyan-900: #164e63;
          --color-cyan-950: #083344;
          --color-sky-50: #f0f9ff;
          --color-sky-100: #e0f2fe;
          --color-sky-200: #bae6fd;
          --color-sky-300: #7dd3fc;
          --color-sky-400: #38bdf8;
          --color-sky-500: #0ea5e9;
          --color-sky-600: #0284c7;
          --color-sky-700: #0369a1;
          --color-sky-800: #075985;
          --color-sky-900: #0c4a6e;
          --color-sky-950: #082f49;
          --color-blue-50: #eff6ff;
          --color-blue-100: #dbeafe;
          --color-blue-200: #bfdbfe;
          --color-blue-300: #93c5fd;
          --color-blue-400: #60a5fa;
          --color-blue-500: #3b82f6;
          --color-blue-600: #2563eb;
          --color-blue-700: #1d4ed8;
          --color-blue-800: #1e40af;
          --color-blue-900: #1e3a8a;
          --color-blue-950: #172554;
          --color-indigo-50: #eef2ff;
          --color-indigo-100: #e0e7ff;
          --color-indigo-200: #c7d2fe;
          --color-indigo-300: #a5b4fc;
          --color-indigo-400: #818cf8;
          --color-indigo-500: #6366f1;
          --color-indigo-600: #4f46e5;
          --color-indigo-700: #4338ca;
          --color-indigo-800: #3730a3;
          --color-indigo-900: #312e81;
          --color-indigo-950: #1e1b4b;
          --color-violet-50: #f5f3ff;
          --color-violet-100: #ede9fe;
          --color-violet-200: #ddd6fe;
          --color-violet-300: #c4b5fd;
          --color-violet-400: #a78bfa;
          --color-violet-500: #8b5cf6;
          --color-violet-600: #7c3aed;
          --color-violet-700: #6d28d9;
          --color-violet-800: #5b21b6;
          --color-violet-900: #4c1d95;
          --color-violet-950: #2e1065;
          --color-purple-50: #faf5ff;
          --color-purple-100: #f3e8ff;
          --color-purple-200: #e9d5ff;
          --color-purple-300: #d8b4fe;
          --color-purple-400: #c084fc;
          --color-purple-500: #a855f7;
          --color-purple-600: #9333ea;
          --color-purple-700: #7e22ce;
          --color-purple-800: #6b21a8;
          --color-purple-900: #581c87;
          --color-purple-950: #3b0764;
          --color-fuchsia-50: #fdf4ff;
          --color-fuchsia-100: #fae8ff;
          --color-fuchsia-200: #f5d0fe;
          --color-fuchsia-300: #f0abfc;
          --color-fuchsia-400: #e879f9;
          --color-fuchsia-500: #d946ef;
          --color-fuchsia-600: #c026d3;
          --color-fuchsia-700: #a21caf;
          --color-fuchsia-800: #86198f;
          --color-fuchsia-900: #701a75;
          --color-fuchsia-950: #4a044e;
          --color-pink-50: #fdf2f8;
          --color-pink-100: #fce7f3;
          --color-pink-200: #fbcfe8;
          --color-pink-300: #f9a8d4;
          --color-pink-400: #f472b6;
          --color-pink-500: #ec4899;
          --color-pink-600: #db2777;
          --color-pink-700: #be185d;
          --color-pink-800: #9d174d;
          --color-pink-900: #831843;
          --color-pink-950: #500724;
          --color-rose-50: #fff1f2;
          --color-rose-100: #ffe4e6;
          --color-rose-200: #fecdd3;
          --color-rose-300: #fda4af;
          --color-rose-400: #fb7185;
          --color-rose-500: #f43f5e;
          --color-rose-600: #e11d48;
          --color-rose-700: #be123c;
          --color-rose-800: #9f1239;
          --color-rose-900: #881337;
          --color-rose-950: #4c0519;
          --animate-spin: spin 1s linear infinite;
          --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
          --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
          --animate-bounce: bounce 1s infinite;
          --blur: 8px;
          --blur-sm: 4px;
          --blur-md: 12px;
          --blur-lg: 16px;
          --blur-xl: 24px;
          --blur-2xl: 40px;
          --blur-3xl: 64px;
          --radius-none: 0px;
          --radius-full: 9999px;
          --radius-sm: 0.125rem;
          --radius: 0.25rem;
          --radius-md: 0.375rem;
          --radius-lg: 0.5rem;
          --radius-xl: 0.75rem;
          --radius-2xl: 1rem;
          --radius-3xl: 1.5rem;
          --shadow: 0 1px 3px 0 #0000001a, 0 1px 2px -1px #0000001a;
          --shadow-xs: 0 1px #0000000d;
          --shadow-sm: 0 1px 2px 0 #0000000d;
          --shadow-md: 0 4px 6px -1px #0000001a, 0 2px 4px -2px #0000001a;
          --shadow-lg: 0 10px 15px -3px #0000001a, 0 4px 6px -4px #0000001a;
          --shadow-xl: 0 20px 25px -5px #0000001a, 0 8px 10px -6px #0000001a;
          --shadow-2xl: 0 25px 50px -12px #00000040;
          --shadow-inner: inset 0 2px 4px 0 #0000000d;
          --inset-shadow-xs: inset 0 1px #0000000d;
          --inset-shadow-sm: inset 0 1px 1px #0000000d;
          --inset-shadow: inset 0 2px 4px #0000000d;
          --drop-shadow: 0 1px 2px #0000001a, 0 1px 1px #0000000f;
          --drop-shadow-sm: 0 1px 1px #0000000d;
          --drop-shadow-md: 0 4px 3px #00000012, 0 2px 2px #0000000f;
          --drop-shadow-lg: 0 10px 8px #0000000a, 0 4px 3px #0000001a;
          --drop-shadow-xl: 0 20px 13px #00000008, 0 8px 5px #00000014;
          --drop-shadow-2xl: 0 25px 25px #00000026;
          --spacing-px: 1px;
          --spacing-0: 0px;
          --spacing-0_5: 0.125rem;
          --spacing-1: 0.25rem;
          --spacing-1_5: 0.375rem;
          --spacing-2: 0.5rem;
          --spacing-2_5: 0.625rem;
          --spacing-3: 0.75rem;
          --spacing-3_5: 0.875rem;
          --spacing-4: 1rem;
          --spacing-5: 1.25rem;
          --spacing-6: 1.5rem;
          --spacing-7: 1.75rem;
          --spacing-8: 2rem;
          --spacing-9: 2.25rem;
          --spacing-10: 2.5rem;
          --spacing-11: 2.75rem;
          --spacing-12: 3rem;
          --spacing-14: 3.5rem;
          --spacing-16: 4rem;
          --spacing-20: 5rem;
          --spacing-24: 6rem;
          --spacing-28: 7rem;
          --spacing-32: 8rem;
          --spacing-36: 9rem;
          --spacing-40: 10rem;
          --spacing-44: 11rem;
          --spacing-48: 12rem;
          --spacing-52: 13rem;
          --spacing-56: 14rem;
          --spacing-60: 15rem;
          --spacing-64: 16rem;
          --spacing-72: 18rem;
          --spacing-80: 20rem;
          --spacing-96: 24rem;
          --width-3xs: 16rem;
          --width-2xs: 18rem;
          --width-xs: 20rem;
          --width-sm: 24rem;
          --width-md: 28rem;
          --width-lg: 32rem;
          --width-xl: 36rem;
          --width-2xl: 42rem;
          --width-3xl: 48rem;
          --width-4xl: 56rem;
          --width-5xl: 64rem;
          --width-6xl: 72rem;
          --width-7xl: 80rem;
          --width-prose: 65ch;
          --font-family-sans: ui-sans-serif, system-ui, sans-serif,
            "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
            "Noto Color Emoji";
          --font-family-serif: ui-serif, Georgia, Cambria, "Times New Roman",
            Times, serif;
          --font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco,
            Consolas, "Liberation Mono", "Courier New", monospace;
          --font-size-xs: 0.75rem;
          --font-size-xs--line-height: 1rem;
          --font-size-sm: 0.875rem;
          --font-size-sm--line-height: 1.25rem;
          --font-size-base: 1rem;
          --font-size-base--line-height: 1.5rem;
          --font-size-lg: 1.125rem;
          --font-size-lg--line-height: 1.75rem;
          --font-size-xl: 1.25rem;
          --font-size-xl--line-height: 1.75rem;
          --font-size-2xl: 1.5rem;
          --font-size-2xl--line-height: 2rem;
          --font-size-3xl: 1.875rem;
          --font-size-3xl--line-height: 2.25rem;
          --font-size-4xl: 2.25rem;
          --font-size-4xl--line-height: 2.5rem;
          --font-size-5xl: 3rem;
          --font-size-5xl--line-height: 1;
          --font-size-6xl: 3.75rem;
          --font-size-6xl--line-height: 1;
          --font-size-7xl: 4.5rem;
          --font-size-7xl--line-height: 1;
          --font-size-8xl: 6rem;
          --font-size-8xl--line-height: 1;
          --font-size-9xl: 8rem;
          --font-size-9xl--line-height: 1;
          --letter-spacing-tighter: -0.05em;
          --letter-spacing-tight: -0.025em;
          --letter-spacing-normal: 0em;
          --letter-spacing-wide: 0.025em;
          --letter-spacing-wider: 0.05em;
          --letter-spacing-widest: 0.1em;
          --line-height-none: 1;
          --line-height-tight: 1.25;
          --line-height-snug: 1.375;
          --line-height-normal: 1.5;
          --line-height-relaxed: 1.625;
          --line-height-loose: 2;
          --line-height-3: 0.75rem;
          --line-height-4: 1rem;
          --line-height-5: 1.25rem;
          --line-height-6: 1.5rem;
          --line-height-7: 1.75rem;
          --line-height-8: 2rem;
          --line-height-9: 2.25rem;
          --line-height-10: 2.5rem;
          --transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
          --transition-timing-function-linear: linear;
          --transition-timing-function-in: cubic-bezier(0.4, 0, 1, 1);
          --transition-timing-function-out: cubic-bezier(0, 0, 0.2, 1);
          --transition-timing-function-in-out: cubic-bezier(0.4, 0, 0.2, 1);
        }
      }
      @layer base {
        *,
        :after,
        :before,
        ::backdrop {
          box-sizing: border-box;
        }
        ::file-selector-button {
          box-sizing: border-box;
        }
        * {
          margin: 0;
        }
        html,
        :host {
          -webkit-text-size-adjust: 100%;
          tab-size: 4;
          line-height: 1.5;
          font-family: var(
            --default-font-family,
            ui-sans-serif,
            system-ui,
            sans-serif,
            "Apple Color Emoji",
            "Segoe UI Emoji",
            "Segoe UI Symbol",
            "Noto Color Emoji"
          );
          font-feature-settings: var(--default-font-feature-settings, normal);
          font-variation-settings: var(
            --default-font-variation-settings,
            normal
          );
          -webkit-tap-highlight-color: transparent;
        }
        body {
          line-height: inherit;
        }
        hr {
          color: inherit;
          border: 0 solid;
          border-top-width: 1px;
          height: 0;
        }
        abbr:where([title]) {
          -webkit-text-decoration: underline dotted;
          text-decoration: underline dotted;
        }
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          font-size: inherit;
          font-weight: inherit;
        }
        a {
          color: inherit;
          -webkit-text-decoration: inherit;
          -webkit-text-decoration: inherit;
          text-decoration: inherit;
        }
        b,
        strong {
          font-weight: bolder;
        }
        code,
        kbd,
        samp,
        pre {
          font-family: var(
            --default-mono-font-family,
            ui-monospace,
            SFMono-Regular,
            Menlo,
            Monaco,
            Consolas,
            "Liberation Mono",
            "Courier New",
            monospace
          );
          font-feature-settings: var(
            --default-mono-font-feature-settings,
            normal
          );
          font-variation-settings: var(
            --default-mono-font-variation-settings,
            normal
          );
          font-size: 1em;
        }
        small {
          font-size: 80%;
        }
        sub,
        sup {
          vertical-align: baseline;
          font-size: 75%;
          line-height: 0;
          position: relative;
        }
        sub {
          bottom: -0.25em;
        }
        sup {
          top: -0.5em;
        }
        table {
          text-indent: 0;
          border-color: inherit;
          border-collapse: collapse;
        }
        button,
        input,
        optgroup,
        select,
        textarea {
          font: inherit;
          font-feature-settings: inherit;
          font-variation-settings: inherit;
          color: inherit;
          background: 0 0;
          border: 1px solid;
          padding: 0;
        }
        ::file-selector-button {
          font: inherit;
          font-feature-settings: inherit;
          font-variation-settings: inherit;
          color: inherit;
          background: 0 0;
          border: 1px solid;
          padding: 0;
        }
        button,
        input:where([type="button"], [type="reset"], [type="submit"]) {
          appearance: button;
          border: 0;
        }
        ::file-selector-button {
          appearance: button;
          border: 0;
        }
        :-moz-focusring {
          outline: auto;
        }
        :-moz-ui-invalid {
          box-shadow: none;
        }
        progress {
          vertical-align: baseline;
        }
        ::-webkit-inner-spin-button {
          height: auto;
        }
        ::-webkit-outer-spin-button {
          height: auto;
        }
        ::-webkit-search-decoration {
          -webkit-appearance: none;
        }
        summary {
          display: list-item;
        }
        fieldset {
          border: 0;
          padding: 0;
        }
        legend {
          padding: 0;
        }
        ol,
        ul,
        menu {
          padding: 0;
          list-style: none;
        }
        dialog {
          padding: 0;
        }
        textarea {
          resize: vertical;
        }
        ::placeholder {
          opacity: 1;
          color: color-mix(in srgb, currentColor 50%, transparent);
        }
        :disabled {
          cursor: default;
        }
        img,
        svg,
        video,
        canvas,
        audio,
        iframe,
        embed,
        object {
          vertical-align: middle;
          display: block;
        }
        img,
        video {
          max-width: 100%;
          height: auto;
        }
        [hidden] {
          display: none !important;
        }
      }
      @layer components;
      @layer utilities {
        .collapse {
          visibility: collapse;
        }
        .fixed {
          position: fixed;
        }
        .relative {
          position: relative;
        }
        .bottom-0 {
          bottom: 0;
        }
        .left-0 {
          left: 0;
        }
        .me-20 {
          margin-inline-end: 5rem;
        }
        .mb-20 {
          margin-bottom: 5rem;
        }
        .block {
          display: block;
        }
        .flex {
          display: flex;
        }
        .grid {
          display: grid;
        }
        .hidden {
          display: none;
        }
        .list-item {
          display: list-item;
        }
        .table {
          display: table;
        }
        .h-32 {
          height: 8rem;
        }
        .h-36 {
          height: 9rem;
        }
        .w-full {
          width: 100%;
        }
        .border-collapse {
          border-collapse: collapse;
        }
        .transform {
          transform: skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y));
        }
        .grid-cols-\[max-content_max-content_1fr_max-content_max-content\] {
          grid-template-columns: max-content max-content 1fr max-content max-content;
        }
        .justify-between {
          justify-content: space-between;
        }
        .justify-center {
          justify-content: center;
        }
        .gap-2 {
          gap: 0.5rem;
        }
        .gap-2\.5 {
          gap: 0.625rem;
        }
        .border {
          border-style: var(--tw-border-style);
          border-width: 1px;
        }
        .bg-gray-100 {
          background-color: #f3f4f6;
        }
        .bg-gray-200 {
          background-color: #e5e7eb;
        }
        .bg-transparent {
          background-color: #0000;
        }
        .p-5 {
          padding: 1.25rem;
        }
        .py-2 {
          padding-top: 0.5rem;
          padding-bottom: 0.5rem;
        }
        .py-2\.5 {
          padding-top: 0.625rem;
          padding-bottom: 0.625rem;
        }
        .px-3 {
          padding-left: 0.75rem;
          padding-right: 0.75rem;
        }
        .\!text-3xl {
          font-size: 1.875rem !important;
          line-height: 2.25rem !important;
        }
        .\!text-7xl {
          font-size: 4.5rem !important;
          line-height: 1 !important;
        }
        .text-3xl {
          font-size: 1.875rem;
          line-height: 2.25rem;
        }
        .text-5xl {
          font-size: 3rem;
          line-height: 1;
        }
        .text-7xl {
          font-size: 4.5rem;
          line-height: 1;
        }
        .text-lg {
          font-size: 1.125rem;
          line-height: 1.75rem;
        }
        .text-xl {
          font-size: 1.25rem;
          line-height: 1.75rem;
        }
        .text-gray-200 {
          color: #e5e7eb;
        }
        .text-gray-400 {
          color: #9ca3af;
        }
        .text-gray-500 {
          color: #6b7280;
        }
        .text-gray-600 {
          color: #4b5563;
        }
        .text-gray-700 {
          color: #374151;
        }
        .underline {
          text-decoration-line: underline;
        }
        .outline {
          outline-style: var(--tw-outline-style);
          outline-width: 1px;
        }
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      @keyframes ping {
        75%,
        to {
          opacity: 0;
          transform: scale(2);
        }
      }
      @keyframes pulse {
        50% {
          opacity: 0.5;
        }
      }
      @keyframes bounce {
        0%,
        to {
          animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
          transform: translateY(-25%);
        }
        50% {
          animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
          transform: none;
        }
      }
      @property --tw-skew-x {
        syntax: "<angle>";
        inherits: false;
        initial-value: 0deg;
      }
      @property --tw-skew-y {
        syntax: "<angle>";
        inherits: false;
        initial-value: 0deg;
      }
      @property --tw-border-style {
        syntax: "<custom-ident>";
        inherits: false;
        initial-value: solid;
      }
      @property --tw-outline-style {
        syntax: "<custom-ident>";
        inherits: false;
        initial-value: solid;
      }
    </style>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>
  <body>
    <main class="p-5">
      <audio class="hidden w-full"></audio>
      <h1 chapter-number class="text-5xl">Chapter 1</h1>
      <p chapter-title class="text-xl text-gray-500 mb-20">
        A Long-Expected Party
      </p>

      <meter value="0" min="0" max="0" class="w-full"></meter>
      <div class="flex justify-between text-lg">
        <div current-time>00:00:00</div>
        <div duration>00:00:00</div>
      </div>
    </main>

    <nav
      class="fixed bottom-0 left-0 w-full h-32 bg-gray-200 grid grid-cols-[max-content_max-content_1fr_max-content_max-content] gap-2.5"
    >
      <button type="button" previous-chapter class="py-2.5 px-3">
        <i class="material-icons !text-3xl">skip_previous</i>
      </button>
      <button type="button" back-30 class="py-2.5 px-3">
        <i class="material-icons !text-3xl">replay_30</i>
      </button>
      <button type="button" play-pause>
        <i class="material-icons !text-7xl">play_arrow</i>
      </button>
      <button type="button" forward-30 class="py-2.5 px-3">
        <i class="material-icons !text-3xl">forward_30</i>
      </button>
      <button type="button" next-chapter class="py-2.5 px-3">
        <i class="material-icons !text-3xl">skip_next</i>
      </button>
    </nav>

    <script>
      "use strict";

      // -- GLOBALS

      const StorageKey = "state";

      let chapterIndex = 0;
      let loaded = false;
      /** @type {number|null} */
      let queuedChapterIndex = null; // keeps track of chapter change for next render.
      /** @type {number|null} */
      let queuedCurrentTime = null;
      /** @type {number|undefined} */
      let saverInterval;

      // -- DATA

      const baseurl =
        "https://archive.org/download/the-fellowship-of-the-ring_soundscape-by-phil-dragash/";

      /**
       * @typedef Chapter
       * @prop {string} name The chapter name
       * @prop {string} src The href to the mp3 of the audio source.
       *
       * @type {Chapter[]}
       */
      const chapters = [
        {
          name: "A Long-Expected Party",
          src: `${baseurl}01%20-%20A%20Long-Expected%20Party%20%282014%29.mp3`,
        },
        {
          name: "The Shadow of the Past",
          src: `${baseurl}02%20-%20The%20Shadow%20of%20the%20Past%20%282014%29.mp3`,
        },
        {
          name: "Three Is Company",
          src: `${baseurl}03%20-%20Three%20Is%20Company%20%282014%29.mp3`,
        },
        {
          name: "A Shortcut to Mushrooms",
          src: `${baseurl}04%20-%20A%20Shortcut%20to%20Mushrooms.mp3`,
        },
        {
          name: "A Conspiracy Unmasked",
          src: `${baseurl}05%20-%20A%20Conspiracy%20Unmasked.mp3`,
        },
        {
          name: "The Old Forest",
          src: `${baseurl}06%20-%20The%20Old%20Forest.mp3`,
        },
        {
          name: "In The House of Tom Bombadil",
          src: `${baseurl}07%20-%20In%20The%20House%20of%20Tom%20Bombadil.mp3`,
        },
        {
          name: "Fog on the Barrow Downs",
          src: `${baseurl}08%20-%20Fog%20on%20the%20Barrow%20Downs.mp3`,
        },
        {
          name: "At the Sign of the Prancing Pony",
          src: `${baseurl}09%20-%20At%20the%20Sign%20of%20the%20Prancing%20Pony.mp3`,
        },
        { name: "Strider", src: `${baseurl}10%20-%20Strider.mp3` },
        {
          name: "A Knife in the Dark",
          src: `${baseurl}11%20-%20A%20Knife%20in%20the%20Dark.mp3`,
        },
        {
          name: "Flight to the Ford",
          src: `${baseurl}12%20-%20Flight%20to%20the%20Ford.mp3`,
        },
        {
          name: "Many Meetings",
          src: `${baseurl}13%20-%20Many%20Meetings.mp3`,
        },
        {
          name: "The Council of Elrond",
          src: `${baseurl}14%20-%20The%20Council%20of%20Elrond%20256.mp3`,
        },
        {
          name: "The Ring Goes South",
          src: `${baseurl}15%20-%20The%20Ring%20Goes%20South.mp3`,
        },
        {
          name: "A Journey In The Dark",
          src: `${baseurl}16%20-%20A%20Journey%20In%20The%20Dark.mp3`,
        },
        {
          name: "The Bridge of Khazad-Dum",
          src: `${baseurl}17%20-%20The%20Bridge%20of%20Khazad-Dum.mp3`,
        },
        {
          name: "Lothlorien",
          src: `${baseurl}18%20-%20Lothlorien%20%282013%29.mp3`,
        },
        {
          name: "Mirror of Galadriel",
          src: `${baseurl}19%20-%20Mirror%20of%20Galadriel.mp3`,
        },
        {
          name: "Farewell to Lorien",
          src: `${baseurl}20%20-%20Farewell%20to%20Lorien.mp3`,
        },
        {
          name: "The Great River",
          src: `${baseurl}21%20-%20The%20Great%20River%20%282013%29.mp3`,
        },
        {
          name: "The Breaking of the Fellowship",
          src: `${baseurl}22%20-%20The%20Breaking%20of%20the%20Fellowship.mp3`,
        },
      ];

      // -- DOM

      /** @type {HTMLAudioElement} */
      const $audio = document.querySelector("audio");
      /** @type {HTMLButtonElement} */
      const $previousChapterBtn = document.querySelector(
        "button[previous-chapter]"
      );
      /** @type {HTMLButtonElement} */
      const $goBack30SecondsBtn = document.querySelector("button[back-30]");
      /** @type {HTMLButtonElement} */
      const $playPauseBtn = document.querySelector("button[play-pause]");
      /** @type {HTMLButtonElement} */
      const $playPauseBtnIcon = $playPauseBtn.querySelector("i");
      /** @type {HTMLButtonElement} */
      const $skipForward30SecondsBtn =
        document.querySelector("button[forward-30]");
      /** @type {HTMLButtonElement} */
      const $nextChapterBtn = document.querySelector("button[next-chapter]");

      /** @type {HTMLHeadingElement} */
      const $chapterNumber = document.querySelector("[chapter-number]");
      const $chapterTitle = document.querySelector("[chapter-title]");
      const $currentTime = document.querySelector("[current-time]");
      const $duration = document.querySelector("[duration]");
      /** @type {HTMLMeterElement} */
      const $meter = document.querySelector("meter");

      // -- EVENT HANDLERS

      /**
       * Switch chapters to the next one. If on the last chapter, don't change chapters.
       */
      const nextChapterBtnClicked = () => {
        let nextChapterIndex =
          chapterIndex < chapters.length - 1 ? chapterIndex + 1 : chapterIndex;
        if (nextChapterIndex !== chapterIndex) {
          queuedChapterIndex = nextChapterIndex;
        }
      };

      /**
       * Change the currentTime within the current chapter. This allows you to skip around
       * and find a specific spot in the chapter.
       *
       * @param {MouseEvent} event
       */
      const meterClicked = (event) => {
        const x = event.x - 20;
        const width = window.innerWidth - 40; // main
        const percent = x / width;
        $audio.currentTime = Math.floor($audio.duration * percent);
      };

      /**
       * Skip forward 30 seconds in the chapter.
       */
      const skipForward30SecondsBtnClicked = () => {
        $audio.currentTime += 30;
        $audio.play();
      };

      /**
       * Toggle play/pause of the current chapter.
       */
      const playPauseBtnClicked = () => {
        if ($audio.paused) {
          $audio.play();
          startSaving();
        } else {
          $audio.pause();
          clearInterval(saverInterval);
        }
      };

      /**
       * Go back 30 seconds in the current chapter.
       */
      const goBack30SecondsBtnClicked = () => {
        $audio.currentTime -= 30;
        $audio.play();
      };

      /**
       * Go to the previous chapter. If already on chapter 1, remain there.
       */
      const previousChapterBtnClicked = () => {
        let previousChapterIndex = chapterIndex > 0 ? chapterIndex - 1 : 0;
        if (previousChapterIndex !== chapterIndex) {
          queuedChapterIndex = previousChapterIndex;
        }
      };

      /**
       * Once the current chapter has loaded, switch a loaded variable that
       * render uses.
       */
      const audioLoadedMetadata = () => {
        loaded = true;
      };

      const connectEventHandlers = () => {
        $audio.addEventListener("loadedmetadata", audioLoadedMetadata);
        $previousChapterBtn.addEventListener(
          "click",
          previousChapterBtnClicked
        );
        $goBack30SecondsBtn.addEventListener(
          "click",
          goBack30SecondsBtnClicked
        );
        $playPauseBtn.addEventListener("click", playPauseBtnClicked);
        $skipForward30SecondsBtn.addEventListener(
          "click",
          skipForward30SecondsBtnClicked
        );
        $nextChapterBtn.addEventListener("click", nextChapterBtnClicked);
        $meter.addEventListener("click", meterClicked);
      };

      // -- HELPERS

      /**
       * @typedef State
       * @prop {number} chapterIndex
       * @prop {number} currentTime
       */

      /**
       * Get the starting chapter and location within the chapter.
       * @returns {State}
       */
      const getStartingState = () => {
        let state = localStorage.getItem(StorageKey);
        if (!state) {
          return { chapterIndex: 0, currentTime: 0 };
        }

        return JSON.parse(state);
      };

      /**
       * Save current audio state every 500 ms.
       */
      const startSaving = () => {
        saverInterval = setInterval(saveState, 500);
      };

      /**
       * Save current audio state.
       */
      const saveState = () => {
        if (!loaded) return;
        localStorage.setItem(
          StorageKey,
          JSON.stringify({ chapterIndex, currentTime: $audio.currentTime })
        );
      };

      /**
       * Switch to a different chapter. This handles switching the audio and updating the chapter text on screen.
       * @param {Chapter} chapter
       * @param {number} chapterIndex
       */
      const changeChapter = (chapter, chapterIndex) => {
        $audio.src = chapter.src;
        $chapterNumber.textContent = `Chapter ${chapterIndex + 1}`;
        $chapterTitle.textContent = chapter.name;
      };

      // -- RENDER

      /**
       * Pad so number is formatted as NN
       * @param {number} n
       * @returns {string}
       */
      const pad = (n) => {
        return n.toString().padStart(2, "0");
      };

      /**
       * Take a total amount of seconds and break it into a string of HH:MM:SS format.
       * @param {number} totalSeconds
       * @returns {string} Formatted as HH:MM:SS
       */
      const formatTimeSpan = (totalSeconds) => {
        let seconds = Math.floor(totalSeconds % 60);
        let minutes = Math.floor((totalSeconds / 60) % 60);
        let hours = Math.floor(totalSeconds / 3600);

        if (hours > 0) {
          return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
        }

        return `${pad(minutes)}:${pad(seconds)}`;
      };

      const render = () => {
        // Play / Pause icon
        if ($audio.paused) {
          $playPauseBtnIcon.textContent = "play_arrow";
        } else {
          $playPauseBtnIcon.textContent = "pause";
        }

        // changing chapter
        if (queuedChapterIndex !== null) {
          chapterIndex = queuedChapterIndex;

          const chapter = chapters[chapterIndex];
          changeChapter(chapter, chapterIndex);

          loaded = false; // Reset so that certain things don't render until next audio is loaded.

          // dequeue
          queuedChapterIndex = null;
        }

        // Only render these things once the audio has loaded.
        if (loaded) {
          $currentTime.textContent = formatTimeSpan($audio.currentTime);
          $duration.textContent = formatTimeSpan($audio.duration);
          $meter.value = $audio.currentTime;
          $meter.max = $audio.duration;

          // changing time within chapter
          if (queuedCurrentTime !== null) {
            $audio.currentTime = queuedCurrentTime;
            queuedCurrentTime = null;
          }
        }
      };

      // -- MAIN

      (() => {
        if ($audio === null) return;
        const startingState = getStartingState();

        // These are queued so they can be applied on the next render.
        queuedChapterIndex = startingState.chapterIndex;
        queuedCurrentTime = startingState.currentTime;

        connectEventHandlers();

        // Updating every 200ms is enough.
        setInterval(render, 200);
        render();
      })();
    </script>
  </body>
</html>
